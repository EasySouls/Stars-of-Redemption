import{r as a,C as S,j as c,a as s}from"./index.efeed2a6.js";function b(o,r){const t=JSON.parse(localStorage.getItem(o));return t||(r instanceof Function?r():r)}function k(o,r){const[t,i]=a.exports.useState(()=>b(o,r));return a.exports.useEffect(()=>{localStorage.setItem(o,JSON.stringify(t))},[t]),[t,i]}const w=[{id:1,text:"As you open your eyes, you find yourself in a cell. You don't remember how you got here. As you look around, you see several dead bodies around you.",options:[{text:"Look around",setState:{coins:10},nextText:2}]},{id:2,text:"Searching the bodies you find 10 silver coins, and a golden amulet that resembles the sun hanging around one of the dead men's neck.",options:[{text:"Take the amulet",setState:{amulet:!0},nextText:3},{text:"Leave it",nextText:4},{text:"Don your armor",requiredState:o=>o.armor,setState:{armor:!1},nextText:3}]},{id:3,text:'You carefully take the amulet from his neck and observe it. It is made from an alloy of iron and gold. Whoever made it, they must be really skillful - you think, looking at the beautiful shape of the object. Suddenly, you hear a warm, eerie voice in your head. "Hang me around your neck, and we can devour the gods together".',options:[{text:"Hang the amulet around your neck",setState:{amuletEquipped:!0},nextText:5},{text:"Shove it in your pocket",setState:{amuletEquipped:!1},nextText:6}]},{id:4,text:"I wouldn't wanna steal from a dead man - you think to yourself, and stand up from the bodies.",options:[{text:"Continue",nextText:7}]},{id:5,text:"Mesmerized by the voice, you hang the amulet around your neck, and look through every part of your cell. After you inspected every nook and cranny and found nothing else, you decide it is the best if you lie down in one of the corners and go to sleep.",options:[{text:"Continue",nextText:7}]},{id:6,text:"Frightened by the voice, you quickly put the amulet away, and continue searching the cell. After you inspected every nook and cranny and found nothing else, you decide it is the best if you lie down in one of the corners and go to sleep.",options:[{text:"Continue",nextText:7}]},{id:7,text:"After you inspected every nook and cranny of your cell and found nothing else, you decide it is the best if you lie down in one of the corners and go to sleep.",options:[{text:"Continue",nextText:8}]},{id:8,text:"",options:[{},{}]},{id:7,text:"",options:[{},{}]},{id:8,text:"",options:[{},{}]},{id:9,text:"",options:[{},{}]},{id:10,text:"",options:[{},{}]},{id:11,text:"",options:[{},{}]},{id:12,text:"",options:[{},{}]},{id:13,text:"",options:[{},{}]},{id:14,text:"",options:[{},{}]},{id:15,text:"",options:[{},{}]}];function N(){a.exports.useContext(S);const[o,r]=a.exports.useState(!1),[t,i]=k("Adventure state",{}),[x,h]=a.exports.useState(1),[f,y]=a.exports.useState("Text"),[p,m]=a.exports.useState([]);function u(){r(e=>!e),l(x)}function l(e){const n=w.find(d=>d.id==e);h(n.id),m(n.options),y(n.text)}function g(e){return e.requiredState==null||e.requiredState(t)}function v(e){const n=e.nextText;if(n<=0)return u();const d=Object.assign({},t,e.setState);i(d),l(n)}return o?c("div",{className:"flex w-full h-full flex-col",children:[s("h1",{className:"text-center mb-5",children:"Adventure"}),s("div",{className:"",children:f}),s("div",{className:"flex h-fit w-fit",children:p.map((e,n)=>{if(g(e))return s("button",{className:"p-1 m-2 border border-black dark:border-white rounded-md hover:bg-primary-light  text-center",onClick:()=>v(e),children:e.text},n)})})]}):c("div",{children:[s("h2",{children:"Start you adventure"}),s("button",{className:"p-1 mt-2 border border-black dark:border-white rounded-md hover:bg-primary-light text-center",onClick:u,children:"Click here"})]})}export{N as default};
